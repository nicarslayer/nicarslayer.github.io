(this["webpackJsonpreact-unsplash"]=this["webpackJsonpreact-unsplash"]||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(7),l=a.n(i),A=(a(80),a(35)),o=a(57),c=a(58),s=a(59),u=a(68),m=a(67),p=(a(86),a(87),function(){return n.a.createElement("div",{className:"Loader-list"},n.a.createElement("div",{className:"loader-item"}),n.a.createElement("div",{className:"loader-item"}),n.a.createElement("div",{className:"loader-item"}),n.a.createElement("div",{className:"loader-item"}),n.a.createElement("div",{className:"loader-item"}),n.a.createElement("div",{className:"loader-item"}))}),g=(a(88),function(){return n.a.createElement("div",{className:"Default-block"},n.a.createElement("h1",null,"Unsplash"),n.a.createElement("p",null,"The internet\u2019s source of freely usable images.",n.a.createElement("br",null),"Powered by creators everywhere."))}),b=a(139),E=(a(89),a(143)),d=a(144),y=a(152),f=a(145),h=a(146),B=a(18),N=function(e){return e.images.map((function(e){return n.a.createElement(b.a,{item:!0,sm:6,xs:12,key:e.id,className:"Img-item"},n.a.createElement(E.a,null,n.a.createElement(d.a,{avatar:n.a.createElement(y.a,{"aria-label":"recipe",src:e.userPhoto}),title:e.userName,subheader:e.date}),n.a.createElement(f.a,{image:e.urls}),n.a.createElement(h.a,null,n.a.createElement(B.a,{variant:"body2",color:"textSecondary",component:"p"},e.title))))}))},v=(a(90),a(63)),Q=a.n(v),S=function(){return n.a.createElement("div",{className:"Empty-block"},n.a.createElement("img",{src:Q.a,alt:""}),n.a.createElement("p",null," ~ No results ~ "))},O=function(e){return n.a.createElement(n.a.Fragment,null,e.emptyBlockVisibility?n.a.createElement(S,null):n.a.createElement(b.a,{container:!0},n.a.createElement(N,{images:e.images})," "))},I=(a(91),a(92),function(e){return n.a.createElement("input",{type:e.type,className:"Input",defaultValue:e.defaultValue,placeholder:e.placeholder,onChange:e.onChange,onKeyPress:e.onKeyPress})}),T=(a(93),a(3)),V=function(e){return n.a.createElement("button",{onClick:e.onClick,className:Object(T.a)("Button",[e.type]),disabled:e.disabled},e.children)},k=function(e){return e.emptyBlockVisibility?null:n.a.createElement("div",{className:"Pagination"},n.a.createElement("span",null,"Page"),n.a.createElement("form",null,n.a.createElement(I,{type:"text",defaultValue:e.currentPage,onChange:e.onChange}),n.a.createElement(V,{type:"primary",onClick:e.onClick,disabled:e.disabled},"Go")),n.a.createElement("div",{className:"total-pages"},n.a.createElement("span",null,"from"),e.pages))},C=(a(94),a(147)),D=a(148),P=function(e){return e.queryArray.slice(0).reverse().map((function(t,a){return n.a.createElement(C.a,{button:!0,key:a,onClick:e.onClick,className:"ListItem"},n.a.createElement(D.a,{primary:t.title}))}))},R=function(e){return n.a.createElement(P,{queryArray:e.queryArray,onClick:e.onClick})},_=(a(95),function(){return n.a.createElement("div",{className:"DefaultHistoryBlock"}," ",n.a.createElement("span",null,"Here"),n.a.createElement("span",null,"will be"),n.a.createElement("span",null,"your search history"))}),L=a(115),q=a(151),U=a(149),j=a(150),H=a(66),G=a.n(H),w=a(65),F=a.n(w),W=a(64),M=a.n(W),J=function(e){return M.a.get(e).then((function(e){return e.data}))};function K(e,t,a){return function(r){e.preventDefault(),r({type:"FETCH_START"});var n=[],i="https://api.unsplash.com/search/photos?per_page=30&page=\n      ".concat(a," \n      &query=\n      ").concat(t," \n      ").concat("&client_id=T47LHJDjEujXoOF7KrTXcP9CLns2zW3BARnsoMA4fDs");J(i).then((function(e){0!==e.total?(Object.keys(e.results).map((function(t,a){return n.push({id:t,title:e.results[a].description,urls:e.results[a].urls.regular,userName:e.results[a].user.name,userPhoto:e.results[a].user.profile_image.large,date:e.results[a].created_at.split("T")[0]})})),window.scrollTo(0,0),r(function(e,t,a,r,n){return{type:"SET_SEARCH_STATE",searchInputValue:e,request:e,url:t,images:a,totalNumberOfPages:r,currentPage:n}}(t,i,n,e.total_pages,a))):r({type:"SHOW_EMPTY_BLOCK"})}))}}var X=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){try{var e=localStorage.getItem("initialState");if(null===e)return;return this.props.fetchLocalStorage(JSON.parse(e))}catch(t){return}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"wrap"},n.a.createElement(b.a,{className:"search-form",component:"form",onSubmit:function(t){return e.props.fetchSearchResponse(t,e.props.request,1)},container:!0},n.a.createElement(b.a,{item:!0,xs:12},n.a.createElement(L.a,null,n.a.createElement("div",{className:"input-container"},n.a.createElement(q.a,{label:"Search free high-resolution photos",value:this.props.searchInputValue,variant:"outlined",onChange:function(t){return e.props.searchInputValidation(t)},required:!0})),n.a.createElement("div",{className:"buttons-group"},n.a.createElement(U.a,{variant:"contained",color:"primary",onClick:function(t){return e.props.fetchSearchResponse(t,e.props.request,1)},disabled:this.props.searchBtnDisabled},"Search"),n.a.createElement(U.a,{variant:"contained",color:"secondary",onClick:this.props.saveQuery,disabled:this.props.saveBtnDisabled},"Save"))))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"content-box"},this.props.defaultBlockVisibility?n.a.createElement(g,null):this.props.loadingBlockVisibility?n.a.createElement(p,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(O,{images:this.props.images,emptyBlockVisibility:this.props.emptyBlockVisibility}),n.a.createElement(k,{pages:this.props.totalNumberOfPages,emptyBlockVisibility:this.props.emptyBlockVisibility,disabled:this.props.paginationBtnDisabled,currentPage:this.props.currentPage,onChange:function(t){return e.props.paginationInputValidation(t)},onClick:function(t){return e.props.fetchSearchResponse(t,e.props.request,e.props.currentPage)}}))),n.a.createElement(j.a,{color:"secondary",className:"open-btn",onClick:this.props.fetchHistoryBlockVisibility},n.a.createElement(F.a,null)),n.a.createElement("div",{className:Object(T.a)("saved-queries-container",this.props.historyBlockVisibility?"visible":null)},n.a.createElement("div",null,n.a.createElement("div",{className:"mask",onClick:this.props.fetchHistoryBlockVisibility}),n.a.createElement(L.a,{className:"saved-queries"},this.props.queryArray.length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"historyListHeader"},n.a.createElement("div",{className:"title"},"Search history:"),n.a.createElement(U.a,{variant:"contained",color:"default",startIcon:n.a.createElement(G.a,null),onClick:this.props.resetSavedQueries},"Reset")),n.a.createElement(R,{queryArray:this.props.queryArray,onClick:function(t){return e.props.fetchFromSavedRequests(t)}})):n.a.createElement(_,null))))))}}]),a}(r.Component);var Z=Object(A.b)((function(e){return{images:e.images,loadingBlockVisibility:e.loadingBlockVisibility,defaultBlockVisibility:e.defaultBlockVisibility,emptyBlockVisibility:e.emptyBlockVisibility,historyBlockVisibility:e.historyBlockVisibility,totalNumberOfPages:e.totalNumberOfPages,currentPage:e.currentPage,searchInputValue:e.searchInputValue,searchBtnDisabled:e.searchBtnDisabled,saveBtnDisabled:e.saveBtnDisabled,paginationBtnDisabled:e.paginationBtnDisabled,request:e.request,currentQuery:e.currentQuery,queryArray:e.queryArray}}),(function(e){return{searchInputValidation:function(t){return e(function(e){return function(t){""!==e.target.value.trim()?t({type:"SUCCESS_SEARCH_INPUT_VALIDATION",request:e.target.value}):t({type:"ERROR_SEARCH_INPUT_VALIDATION"})}}(t))},fetchSearchResponse:function(t,a,r){return e(K(t,a,r))},paginationInputValidation:function(t){return e(function(e){return function(t,a){if(isNaN(e.target.value)||""===e.target.value||e.target.value<1)e.target.value="",t({type:"SUCCESS_PAGINATION_INPUT_VALIDATION"});else{var r=+e.target.value,n=a().totalNumberOfPages;r>n&&(e.target.value=n),t({type:"ERROR_PAGINATION_INPUT_VALIDATION",currentPage:e.target.value})}}}(t))},saveQuery:function(){return e((function(e,t){var a=t().currentQuery,r=t().queryArray;if(0!==r.length)for(var n=0;n<r.length;n+=1)r[n].title===a[0].title&&r.splice(n,1);e(function(e){return{type:"SAVE_QUERY",currentQuery:e}}(r.concat(a))),localStorage.setItem("initialState",JSON.stringify(t().queryArray))}))},fetchFromSavedRequests:function(t){return e(function(e){return function(t){t(K(e,e.currentTarget.textContent,1))}}(t))},resetSavedQueries:function(){return e((function(e){localStorage.removeItem("initialState"),e({type:"RESET_SAVED_QUERIES"})}))},fetchLocalStorage:function(t){return e(function(e){return{type:"FETCH_LOCAL_STORAGE",storage:e}}(t))},fetchHistoryBlockVisibility:function(){return e((function(e,t){var a=!t().historyBlockVisibility;e({type:"TOGGLE_HISTORY_BLOCK_VISIBILITY",state:a})}))}}}))(X);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(24),x=a(10),z={images:[],loadingBlockVisibility:!1,defaultBlockVisibility:!0,emptyBlockVisibility:!1,historyBlockVisibility:!1,totalNumberOfPages:null,currentPage:1,searchInputValue:"",searchBtnDisabled:!0,saveBtnDisabled:!0,paginationBtnDisabled:!1,request:null,currentQuery:[],queryArray:[]};var $="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Y.c,ee=Object(Y.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS_SEARCH_INPUT_VALIDATION":return Object(x.a)(Object(x.a)({},e),{},{currentPage:1,searchBtnDisabled:!1,searchInputValue:t.request,request:t.request});case"ERROR_SEARCH_INPUT_VALIDATION":return Object(x.a)(Object(x.a)({},e),{},{searchBtnDisabled:!0,searchInputValue:""});case"FETCH_START":return Object(x.a)(Object(x.a)({},e),{},{loadingBlockVisibility:!0,saveBtnDisabled:!0});case"SET_SEARCH_STATE":return Object(x.a)(Object(x.a)({},e),{},{searchInputValue:t.searchInputValue,currentQuery:[{title:t.request,url:t.url}],request:t.request,images:t.images,loadingBlockVisibility:!1,defaultBlockVisibility:!1,emptyBlockVisibility:!1,historyBlockVisibility:!1,saveBtnDisabled:!1,totalNumberOfPages:t.totalNumberOfPages,currentPage:t.currentPage});case"SAVE_QUERY":return Object(x.a)(Object(x.a)({},e),{},{queryArray:t.currentQuery});case"SHOW_EMPTY_BLOCK":return Object(x.a)(Object(x.a)({},e),{},{emptyBlockVisibility:!0,loadingBlockVisibility:!1,defaultBlockVisibility:!1,saveBtnDisabled:!0});case"SUCCESS_PAGINATION_INPUT_VALIDATION":return Object(x.a)(Object(x.a)({},e),{},{paginationBtnDisabled:!0});case"ERROR_PAGINATION_INPUT_VALIDATION":return Object(x.a)(Object(x.a)({},e),{},{currentPage:t.currentPage,paginationBtnDisabled:!1});case"RESET_SAVED_QUERIES":return Object(x.a)(Object(x.a)({},e),{},{queryArray:[]});case"FETCH_LOCAL_STORAGE":return Object(x.a)(Object(x.a)({},e),{},{queryArray:t.storage});case"TOGGLE_HISTORY_BLOCK_VISIBILITY":return Object(x.a)(Object(x.a)({},e),{},{historyBlockVisibility:t.state});default:return e}}),$(Object(Y.a)(o.a)));l.a.render(n.a.createElement(A.a,{store:ee},n.a.createElement(n.a.StrictMode,null,n.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t){e.exports="data:image/png;base64,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"},75:function(e,t,a){e.exports=a(114)},80:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.79a42a3c.chunk.js.map